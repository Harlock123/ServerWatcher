<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ServerWatcher.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="450"
        x:Class="ServerWatcher.Views.PasswordEncryptionWindow"
        x:DataType="vm:PasswordEncryptionViewModel"
        Title="Password Encryption Tool"
        Width="600" Height="450"
        WindowStartupLocation="CenterOwner"
        CanResize="false">

    <Design.DataContext>
        <vm:PasswordEncryptionViewModel/>
    </Design.DataContext>

    <Grid Margin="20" RowDefinitions="Auto,20,Auto,20,Auto,20,Auto,*,Auto">
        <TextBlock Grid.Row="0"
                   Text="Password Encryption Tool"
                   FontSize="20"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"/>

        <StackPanel Grid.Row="2" Spacing="10">
            <TextBlock Text="Enter plain text password:"
                       FontWeight="SemiBold"/>
            <TextBox Text="{Binding PlainTextPassword}"
                     Watermark="Enter password here..."
                     PasswordChar="*"
                     MinHeight="35"/>
            <TextBlock Text="(Password will be hidden with asterisks)"
                       FontSize="11"
                       Foreground="#666666"
                       FontStyle="Italic"/>
        </StackPanel>

        <StackPanel Grid.Row="4" Spacing="10" Orientation="Horizontal" HorizontalAlignment="Center">
            <Button Content="Encrypt Password"
                    Command="{Binding EncryptPasswordCommand}"
                    Padding="20,10"
                    FontSize="14"/>
            <Button Content="Clear"
                    Command="{Binding ClearCommand}"
                    Padding="20,10"
                    FontSize="14"/>
        </StackPanel>

        <StackPanel Grid.Row="6" Spacing="10">
            <TextBlock Text="Encrypted password (copy to config file):"
                       FontWeight="SemiBold"/>
            <Border BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    CornerRadius="3"
                    Padding="10"
                    Background="#F5F5F5">
                <TextBox Text="{Binding EncryptedPassword}"
                         IsReadOnly="true"
                         TextWrapping="Wrap"
                         MinHeight="80"
                         BorderThickness="0"
                         Background="Transparent"
                         SelectionBrush="#0078D4"
                         Watermark="Encrypted password will appear here..."/>
            </Border>
            <TextBlock Text="{Binding StatusMessage}"
                       TextWrapping="Wrap"
                       Foreground="#0078D4"
                       FontStyle="Italic"
                       MinHeight="20"/>
        </StackPanel>

        <StackPanel Grid.Row="8" Spacing="10">
            <Border BorderBrush="#FFA500"
                    BorderThickness="1"
                    CornerRadius="3"
                    Padding="10"
                    Background="#FFF8DC">
                <StackPanel Spacing="5">
                    <TextBlock Text="Instructions:"
                               FontWeight="Bold"
                               Foreground="#CC8800"/>
                    <TextBlock TextWrapping="Wrap"
                               Foreground="#CC8800">
                        1. Enter your plain text password above
                    </TextBlock>
                    <TextBlock TextWrapping="Wrap"
                               Foreground="#CC8800">
                        2. Click "Encrypt Password" to generate the encrypted version
                    </TextBlock>
                    <TextBlock TextWrapping="Wrap"
                               Foreground="#CC8800">
                        3. Copy the encrypted password from the box above
                    </TextBlock>
                    <TextBlock TextWrapping="Wrap"
                               Foreground="#CC8800">
                        4. Paste it into the "Password" field in your serverconfig.json file
                    </TextBlock>
                </StackPanel>
            </Border>
        </StackPanel>
    </Grid>

</Window>
